<%- include('../layouts/head.ejs') -%>

  <body>
    <%- include('../layouts/userNav.ejs') -%>

      <div class="col-lg-5 mx-auto pt-18 pb-20">
        <div class="login_wrap widget-taber-content p-30 background-white border-radius-5"
          style="background-color: rgb(255, 255, 255);">
          <div class="padding_eight_all bg-white">
            <div class="heading_s1">

              <h3 class="mb-20">Create an Account</h3>
            </div>
            <p class="mb-2 font-sm">
              Your personal data will be used to support your experience throughout this website, to manage access to
              your account, and for other purposes described in our privacy policy
            </p>

            <form class="form-contact" method="post" action="/register" onsubmit="return validate()">
              <div class="form-group">
                <input type="text" name="name" placeholder="Username" id="name">
                <p id="nameError"></p>
              </div>
              <div class="form-group">
                <input type="text" name="email" placeholder="Email" id="email">
                <p id="emailError"></p>
              </div>
              <div class="form-group">
                <input type="text" name="mobile" id="mobile" placeholder="Enter your mobile Number">
                <p id="mobileError"></p>
              </div>
              <div class="form-group input-group">
                <input type="password" name="password" id="password" placeholder="Enter password" class="form-control">
                <div class="input-group-append">
                  <span class="input-group-text">
                    <i class="toggle-password fas fa-eye" onclick="togglePassword('password')"></i>
                  </span>

                </div>

              </div>
              <p id="passwordError"></p>
              <div class="form-group input-group">
                <input type="password" name="confirmPassword" id="confirmPassword" placeholder="Confirm password"
                  class="form-control">
                <div class="input-group-append">
                  <span class="input-group-text">
                    <i class="toggle-password fas fa-eye" onclick="togglePassword('confirmPassword')"></i>
                  </span>

                </div>

              </div>
              <p id="confirmPasswordError"></p>
              <div class="login_footer form-group">
                <div class="chek-form">
                  <!-- Your other form elements go here -->
                </div>
              </div>


              <div class="form-group">
                <button id="submit" type="submit" class="btn btn-fill-out btn-block hover-up" name="signUp"
                  href="/verifyOtp">Submit &amp; Register</button>
              </div>
            </form>

            <% if (typeof message !=='undefined' ) { %>
              <p style="color: rgb(255, 0, 0)">
                <%= message %>
              </p>
              <% } %>

                <div class="divider-text-center mt-10 mb-10">
                  <span> or</span>
                </div>
                <ul class="btn-login list_none text-center mb-10">

                </ul>
                <div class="text-muted text-center">Already have an account? <a href="/login">Sign in now</a></div>
          </div>
        </div>
      </div>


      <!-- <script>
        function toggleReferralCode() {
            var referralCodeContainer = document.getElementById('referralCodeContainer');
    
            // Toggle the visibility of the referral code input field
            if (referralCodeContainer.style.display === 'none') {
                referralCodeContainer.style.display = 'block';
            } else {
                referralCodeContainer.style.display = 'none';
            }
        }
    
        function applyReferralCode() {
  var referralCode = document.getElementById('referralCode').value;

  if (referralCode.trim() !== '') {
    fetch('/checkRefferalCode', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        referralCode: referralCode,
      }),
    })
    .then(response => response.json())
    .then(data => {
      // Update the content of the <p> tag with the fetch response
      document.getElementById('fetchResponse').textContent = data.success
        ? "Referral code applied successfully!"
        : "Invalid referral code. Please enter a valid code.";
    })
    .catch(error => {
      console.error('Error:', error);
    });

    // You can reset the input field if needed
    document.getElementById('referralCode').value = '';
    // Hide the referral code container after applying
    document.getElementById('referralCodeContainer').style.display = 'none';
  } else {
    // Handle the case where the referral code is empty
    console.log('Referral code is empty. Please enter a valid code.');
  }
}

    </script>
     -->
      <%- include("../layouts/userFooter.ejs") -%>
        <script>
          function togglePassword(inputId) {
            const passwordInput = document.getElementById(inputId);
            const eyeIcon = document.querySelector(`.toggle-password[onclick="togglePassword('${inputId}')"]`);

            if (passwordInput.type === "password") {
              passwordInput.type = "text";
              eyeIcon.classList.remove("fa-eye");
              eyeIcon.classList.add("fa-eye-slash");
            } else {
              passwordInput.type = "password";
              eyeIcon.classList.remove("fa-eye-slash");
              eyeIcon.classList.add("fa-eye");
            }
          }
        </script>

        <script>
          sessionStorage.removeItem("counter2");
          sessionStorage.removeItem("counter3");
        </script>
        <script src="assets/js/registerValidation.js"></script>
        <!-- <script src="assets/js/verifyEmail.js"></script> -->
  </body>

  </html>